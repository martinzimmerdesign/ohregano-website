{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/martinzimmer/github/ohregano-website/pages/mitgliederbereich.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Title from '../components/title/Title.js';\nimport PageContainer from '../components/container/PageContainer.js';\nimport ContentContainer from '../components/container/ContentContainer.js';\nimport SectionContainer from '../components/container/SectionContainer.js';\nimport Paragraph from '../components/paragraph/Paragraph.js';\nimport { loadFirebase } from '../lib/db.js';\nimport { useState, useEffect } from 'react';\nexport default function Mitgliederbereich() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(''),\n      input = _useState[0],\n      setInput = _useState[1];\n\n  var tableData = [];\n  var renderedTable = '';\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var db, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              db = loadFirebase();\n              _context.next = 3;\n              return new Promise(function (resolve, reject) {\n                db.firestore().collection('contacts/' + input + '/table').get().then(function (snapshot) {\n                  var data = [];\n                  snapshot.forEach(function (doc) {\n                    data.push(doc.data());\n                  });\n                  resolve(data);\n                })[\"catch\"](function (error) {\n                  reject([]);\n                });\n              });\n\n            case 3:\n              result = _context.sent;\n              return _context.abrupt(\"return\", result);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              event.preventDefault();\n\n              if (!(input.length > 2)) {\n                _context2.next = 12;\n                break;\n              }\n\n              _context2.next = 4;\n              return fetchData();\n\n            case 4:\n              tableData = _context2.sent;\n              console.log(tableData);\n              _context2.next = 8;\n              return tableData[0];\n\n            case 8:\n              _context2.t0 = _context2.sent;\n              _context2.t1 = undefined;\n\n              if (!(_context2.t0 != _context2.t1)) {\n                _context2.next = 12;\n                break;\n              }\n\n              renderedTable = tableData.map(function (tableElement) {\n                return __jsx(\"div\", {\n                  __self: _this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 44,\n                    columnNumber: 17\n                  }\n                }, __jsx(\"p\", {\n                  __self: _this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 45,\n                    columnNumber: 21\n                  }\n                }, \"tableElement.name\"), __jsx(\"p\", {\n                  __self: _this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 46,\n                    columnNumber: 21\n                  }\n                }, \"tableElement.email\"));\n              });\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleClick(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, __jsx(PageContainer, {\n    withFooter: true,\n    menuTypeLanding: false,\n    menuVisibility: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, __jsx(ContentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, __jsx(SectionContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, __jsx(Title, {\n    title: \"Mitgliederbereich\",\n    caps: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), __jsx(\"input\", {\n    value: input,\n    onChange: function onChange(e) {\n      return setInput(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), __jsx(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Login\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, renderedTable)))));\n}\n\n_s(Mitgliederbereich, \"WVveI0ACa0LqOSOlGzu58xcz+KE=\");\n\n_c = Mitgliederbereich;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mitgliederbereich\");","map":{"version":3,"sources":["/Users/martinzimmer/github/ohregano-website/pages/mitgliederbereich.js"],"names":["Head","Title","PageContainer","ContentContainer","SectionContainer","Paragraph","loadFirebase","useState","useEffect","Mitgliederbereich","input","setInput","tableData","renderedTable","fetchData","db","Promise","resolve","reject","firestore","collection","get","then","snapshot","data","forEach","doc","push","error","result","handleClick","event","preventDefault","length","console","log","undefined","map","tableElement","e","target","value"],"mappings":";;;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,gBAAP,MAA6B,6CAA7B;AACA,OAAOC,gBAAP,MAA6B,6CAA7B;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,eAAe,SAASC,iBAAT,GAA6B;AAAA;;AAAA;;AAAA,kBAEdF,QAAQ,CAAC,EAAD,CAFM;AAAA,MAEjCG,KAFiC;AAAA,MAE1BC,QAF0B;;AAIxC,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,aAAa,GAAG,EAApB;;AAEA,MAAMC,SAAS;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACRC,cAAAA,EADQ,GACHT,YAAY,EADT;AAAA;AAAA,qBAEK,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAChDH,gBAAAA,EAAE,CAACI,SAAH,GACCC,UADD,CACY,cAAcV,KAAd,GAAsB,QADlC,EAECW,GAFD,GAGCC,IAHD,CAGM,UAAAC,QAAQ,EAAI;AACd,sBAAIC,IAAI,GAAG,EAAX;AACAD,kBAAAA,QAAQ,CAACE,OAAT,CAAiB,UAAAC,GAAG,EAAI;AACpBF,oBAAAA,IAAI,CAACG,IAAL,CAAUD,GAAG,CAACF,IAAJ,EAAV;AACH,mBAFD;AAGAP,kBAAAA,OAAO,CAACO,IAAD,CAAP;AACH,iBATD,WAUO,UAAAI,KAAK,EAAI;AACZV,kBAAAA,MAAM,CAAC,EAAD,CAAN;AACH,iBAZD;AAaH,eAdkB,CAFL;;AAAA;AAEVW,cAAAA,MAFU;AAAA,+CAiBPA,MAjBO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATf,SAAS;AAAA;AAAA;AAAA,KAAf;;AAoBA,MAAMgB,WAAW;AAAA,yEAAG,kBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAChBA,cAAAA,KAAK,CAACC,cAAN;;AADgB,oBAEbtB,KAAK,CAACuB,MAAN,GAAe,CAFF;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGMnB,SAAS,EAHf;;AAAA;AAGZF,cAAAA,SAHY;AAIZsB,cAAAA,OAAO,CAACC,GAAR,CAAYvB,SAAZ;AAJY;AAAA,qBAKHA,SAAS,CAAC,CAAD,CALN;;AAAA;AAAA;AAAA,6BAKawB,SALb;;AAAA;AAAA;AAAA;AAAA;;AAMRvB,cAAAA,aAAa,GAAGD,SAAS,CAACyB,GAAV,CAAc,UAACC,YAAD;AAAA,uBAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAFJ,CAD8B;AAAA,eAAd,CAAhB;;AANQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXR,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAkBF,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,MAAC,aAAD;AAAe,IAAA,UAAU,EAAE,IAA3B;AAAiC,IAAA,eAAe,EAAE,KAAlD;AAAyD,IAAA,cAAc,EAAE,IAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,KAAD;AAAO,IAAA,KAAK,EAAC,mBAAb;AAAiC,IAAA,IAAI,EAAE,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEQ;AAAO,IAAA,KAAK,EAAEpB,KAAd;AAAqB,IAAA,QAAQ,EAAE,kBAAA6B,CAAC;AAAA,aAAI5B,QAAQ,CAAC4B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;AAAA,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFR,EAGQ;AAAQ,IAAA,OAAO,EAAEX,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHR,EAIQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMjB,aAAN,CAJR,CADF,CADF,CADA,CADF;AAcD;;GA3DuBJ,iB;;KAAAA,iB","sourcesContent":["import Head from 'next/head'\nimport Title from '../components/title/Title.js'\nimport PageContainer from '../components/container/PageContainer.js'\nimport ContentContainer from '../components/container/ContentContainer.js'\nimport SectionContainer from '../components/container/SectionContainer.js'\nimport Paragraph from '../components/paragraph/Paragraph.js'\nimport { loadFirebase } from '../lib/db.js'\nimport { useState, useEffect } from 'react'\n\nexport default function Mitgliederbereich() {\n\n    const [input, setInput] = useState('');\n\n    let tableData = []\n    let renderedTable = ''\n\n    const fetchData = async () => {\n        const db = loadFirebase();\n        let result = await new Promise((resolve, reject) => {\n            db.firestore()\n            .collection('contacts/' + input + '/table')\n            .get()\n            .then(snapshot => { \n                let data = []\n                snapshot.forEach(doc => {\n                    data.push(doc.data())\n                })\n                resolve(data)\n            })\n            .catch(error => {\n                reject([])\n            })\n        })\n        return result\n    };\n\n    const handleClick = async (event) => {\n        event.preventDefault();\n        if(input.length > 2 ) {\n            tableData = await fetchData()\n            console.log(tableData)\n            if(await tableData[0] != undefined) {\n                renderedTable = tableData.map((tableElement) =>\n                <div>\n                    <p>tableElement.name</p>\n                    <p>tableElement.email</p>\n                </div>  \n                )\n            }\n        }\n    };\n\n     \n\n  return (\n    <div>\n    <PageContainer withFooter={true} menuTypeLanding={false} menuVisibility={true}>\n      <ContentContainer>\n        <SectionContainer>\n            <Title title=\"Mitgliederbereich\" caps={false} />\n                <input value={input} onChange={e => setInput(e.target.value)}/>\n                <button onClick={handleClick}>Login</button>\n                <div>{renderedTable}</div>\n        </SectionContainer>\n      </ContentContainer>\n    </PageContainer>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}